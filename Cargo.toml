[workspace.package]
version = "0.37.0"
authors = ["Elham Aryanpur <elhamaryanpur5@gmail.com>"]
description = "ðŸ”¥ Blazingly Fast ðŸ”¥ runtime for Lua"
documentation = "https://astra.arkforge.net/docs/latest"
repository = "https://github.com/ArkForgeLabs/Astra"
keywords = ["lua", "luau", "server", "webserver", "runtime"]
categories = [
  "web-programming",
  "development-tools::ffi",
  "command-line-utilities",
  "network-programming",
]
edition = "2024"
license-file = "LICENSE"
exclude = ["examples", "docs", ".github"]

[workspace]
default-members = ["src/runtime"]
members = ["src/runtime", "src/runtime/parts/*"]
resolver = "3"

[workspace.features]
default = ["runtime/luajit"]
luajit = ["runtime/luajit"]
luajit52 = ["runtime/luajit52"]
luau = ["runtime/luau"]
lua51 = ["runtime/lua51"]
lua52 = ["runtime/lua52"]
lua53 = ["runtime/lua53"]
lua54 = ["runtime/lua54"]

[workspace.dependencies]
clap = { version = "4.5.51", features = ["cargo", "derive"] }
mlua = { version = "0.11.4", features = [
  "serialize",
  "vendored",
  "async",
  "send",
  "error-send",
  "macros",
  "anyhow",
] }
reqwest = { version = "0.12.24", features = [
  "json",
  "rustls-tls",
  "charset",
  "multipart",
  "http2",
  "stream",
  "macos-system-configuration",
], default-features = false }
tracing = "0.1.41"
tokio = { version = "1.48.0", features = [
  "macros",
  "signal",
  "rt-multi-thread",
] }
futures = "0.3.31"
include_dir = "0.7.4"
bytes = { version = "1.11.0", features = ["serde"] }
serde = { version = "1.0.228", features = ["derive"] }
serde_json = { version = "1.0.145" }

[profile.release]
opt-level = 3
lto = true
codegen-units = 1
overflow-checks = false
strip = true
debug = 0
[profile.release.package."*"]
opt-level = 3
codegen-units = 1
strip = true
